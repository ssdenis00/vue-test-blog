(function(t){function e(e){for(var o,r,i=e[0],a=e[1],c=e[2],m=0,p=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&p.push(l[r][0]),l[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var a=n[i];0!==l[a]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},l={app:0},s=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-test-blog/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=a;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0cc7":function(t,e,n){"use strict";n("0d0e")},"0d0e":function(t,e,n){},"171b":function(t,e,n){"use strict";n("9f3c")},"261d":function(t,e,n){},2873:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r={name:"App"},i=r,a=(n("595b"),n("2877")),c=Object(a["a"])(i,l,s,!1,null,null,null),u=c.exports,m=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("router-link",{staticClass:"link",attrs:{to:{name:"formBlog"}}},[t._v("Создать запись")]),n("BlogsList")],1)},d=[],g=n("2f62"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"blogs"},t._l(t.allBlogs,(function(t){return n("Blog",{key:t.id,attrs:{blog:t}})})),1)},b=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"blogs__item",on:{click:t.handleClickBlog}},[n("router-link",{staticClass:"blogs__content-link",attrs:{to:{name:"blog"}}},[n("h2",{staticClass:"blogs__title",on:{click:t.handleClickBlog}},[t._v(t._s(t.blog.title))]),n("p",{staticClass:"blogs__description",on:{click:t.handleClickBlog}},[t._v(" "+t._s(t.blog.description)+" ")])]),n("div",{staticClass:"blogs__buttons"},[n("button",{staticClass:"blogs__btn",attrs:{type:"button"},on:{click:t.handleClickUpdateBtn}},[t._v(" ред. ")]),n("button",{staticClass:"blogs__btn",attrs:{type:"button"},on:{click:t.handleClickDeleteBtn}},[t._v(" удалить ")])]),n("p",{staticClass:"blogs__comments"},[t._v(t._s("| "+t.blog.comments.length+" ком. |"))])],1)},_=[],v=n("5530"),B={props:["blog"],computed:Object(g["b"])(["checkUpdateState","selectedCurrentBlog"]),methods:Object(v["a"])(Object(v["a"])({},Object(g["c"])(["deleteBlog","selectBlog","changeUpdateBlogState"])),{},{handleClickDeleteBtn:function(){this.deleteBlog(this.blog),this.changeUpdateBlogState(!1)},handleClickBlog:function(){this.selectBlog(this.blog)},handleClickUpdateBtn:function(){this.handleClickBlog(),this.changeUpdateBlogState(!0),this.$router.push({name:"formBlog"})}})},C=B,x=(n("627f"),Object(a["a"])(C,h,_,!1,null,"4cb0ecb7",null)),O=x.exports,S={name:"BlogsList",components:{Blog:O},computed:Object(g["b"])(["allBlogs"])},k=S,y=(n("eaaf"),Object(a["a"])(k,f,b,!1,null,"6806484a",null)),j=y.exports,w={components:{BlogsList:j},mounted:function(){this.changeUpdateBlogState(!1)},methods:Object(g["c"])(["changeUpdateBlogState"])},T=w,D=(n("cc22"),Object(a["a"])(T,p,d,!1,null,"975fe3a4",null)),I=D.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"blog-page"},[n("router-link",{staticClass:"blog-page__link",attrs:{to:{name:"main"}}},[t._v("На главную")]),n("h1",{staticClass:"blog-page__title"},[t._v(" "+t._s(t.selectedCurrentBlog.title)+" ")]),n("p",{staticClass:"blog-page__description"},[t._v(" "+t._s(t.selectedCurrentBlog.description)+" ")]),t._l(t.selectedCurrentBlog.content,(function(e,o){return n("p",{key:o,staticClass:"blog-page__content"},[t._v(" "+t._s(e)+" ")])})),n("div",{staticClass:"blog-page__comments"},[n("CommentList"),n("FormComment")],1)],2)},U=[],J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form",attrs:{action:"/"},on:{submit:function(e){return e.preventDefault(),t.submitFormComment.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.nameInput,expression:"nameInput"}],staticClass:"form__input",attrs:{type:"text",placeholder:"Имя",maxlength:"15",minlength:"3",required:""},domProps:{value:t.nameInput},on:{input:function(e){e.target.composing||(t.nameInput=e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentTextarea,expression:"commentTextarea"}],staticClass:"form__textarea",attrs:{placeholder:"Комментарий",name:"comment",cols:"30",rows:"10",minlength:"3",maxlength:"30",required:""},domProps:{value:t.commentTextarea},on:{input:function(e){e.target.composing||(t.commentTextarea=e.target.value)}}}),n("button",{staticClass:"form__btn",attrs:{type:"submit"}},[t._v("Написать")])])},P=[],$=(n("ac1f"),n("1276"),{data:function(){return{commentTextarea:"",nameInput:""}},methods:Object(v["a"])(Object(v["a"])({},Object(g["c"])(["addComment"])),{},{submitFormComment:function(){for(var t=this.commentTextarea.split("\n"),e=[],n=0;n<t.length;++n)""!==t[n]&&e.push(t[n]);this.addComment({name:this.nameInput,text:e,id:Date.now()}),this.nameInput="",this.commentTextarea=""}})}),E=$,F=(n("171b"),Object(a["a"])(E,J,P,!1,null,"2f717a86",null)),R=F.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"comments"},t._l(t.selectedCurrentBlog.comments,(function(t){return n("Comment",{key:t.id,attrs:{comment:t}})})),1)},L=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"comments__item"},[n("div",{staticClass:"comments__content"},[n("h2",{staticClass:"comments__name"},[t._v(t._s(t.comment.name))]),t._l(t.comment.text,(function(e,o){return n("p",{key:o,staticClass:"comments__text"},[t._v(" "+t._s(e)+" ")])}))],2),n("button",{staticClass:"comments__btn",attrs:{type:"button"},on:{click:t.handleClickDeleteBtn}},[t._v(" удалить ")])])},A=[],z={props:["comment"],methods:Object(v["a"])(Object(v["a"])({},Object(g["c"])(["deleteComment"])),{},{handleClickDeleteBtn:function(){this.deleteComment(this.comment)}})},G=z,H=Object(a["a"])(G,M,A,!1,null,null,null),K=H.exports,Q={components:{Comment:K},computed:Object(g["b"])(["selectedCurrentBlog"])},V=Q,W=(n("8e79"),Object(a["a"])(V,q,L,!1,null,null,null)),X=W.exports,Y={components:{FormComment:R,CommentList:X},computed:Object(g["b"])(["selectedCurrentBlog"])},Z=Y,tt=(n("87f2"),Object(a["a"])(Z,N,U,!1,null,"558423f4",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form",attrs:{action:"/"},on:{submit:function(e){return e.preventDefault(),t.submitFormBlog.apply(null,arguments)}}},[n("router-link",{staticClass:"form__link",attrs:{to:{name:"main"}}},[t._v("Главная")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputTitle,expression:"inputTitle"}],staticClass:"form__input",attrs:{placeholder:"Введите Имя статьи",type:"text",maxlength:"15",required:""},domProps:{value:t.inputTitle},on:{input:function(e){e.target.composing||(t.inputTitle=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputDescription,expression:"inputDescription"}],staticClass:"form__input",attrs:{placeholder:"Введите Краткое описание статьи",type:"text",maxlength:"30",required:""},domProps:{value:t.inputDescription},on:{input:function(e){e.target.composing||(t.inputDescription=e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textareaResult,expression:"textareaResult"}],staticClass:"form__textarea",attrs:{name:"blog",cols:"30",rows:"10",placeholder:"Введите статью",required:""},domProps:{value:t.textareaResult},on:{input:function(e){e.target.composing||(t.textareaResult=e.target.value)}}}),n("button",{staticClass:"form__btn",attrs:{type:"submit"}},[t._v("Сохранить")])],1)},ot=[],lt=(n("a15b"),n("d81d"),n("a4d3"),n("e01a"),{data:function(){return{inputTitle:"",textareaResult:"",inputDescription:""}},mounted:function(){var t,e,n,o;null!==(t=this.selectedCurrentBlog)&&void 0!==t&&t.content&&(this.selectedCurrentBlog.content=this.selectedCurrentBlog.content.map((function(t,e){return 0!==e?"\n"+t:t})).join("")),this.inputTitle=this.checkUpdateState&&null!==(e=this.selectedCurrentBlog)&&void 0!==e&&e.title?this.selectedCurrentBlog.title:"",this.textareaResult=this.checkUpdateState&&null!==(n=this.selectedCurrentBlog)&&void 0!==n&&n.content?this.selectedCurrentBlog.content:"",this.inputDescription=this.checkUpdateState&&null!==(o=this.selectedCurrentBlog)&&void 0!==o&&o.description?this.selectedCurrentBlog.description:""},computed:Object(g["b"])(["checkUpdateState","selectedCurrentBlog"]),methods:Object(v["a"])(Object(v["a"])({},Object(g["c"])(["addBlog","updateBlog"])),{},{submitFormBlog:function(){for(var t=this.textareaResult.split("\n"),e=[],n=0;n<t.length;++n)""!==t[n]&&e.push(t[n]);this.checkUpdateState?this.updateBlog({id:this.selectedCurrentBlog.id,title:this.inputTitle,content:e,description:this.inputDescription}):this.addBlog({title:this.inputTitle,content:e,description:this.inputDescription,comments:[],id:Date.now()}),this.inputTitle="",this.textareaResult="",this.inputDescription="",this.$router.push({name:"main"})}})}),st=lt,rt=(n("0cc7"),Object(a["a"])(st,nt,ot,!1,null,"a8333a40",null)),it=rt.exports;o["a"].use(m["a"]);var at=new m["a"]({routes:[{path:"/",name:"main",component:I},{path:"/blog",name:"blog",component:et},{path:"/form-blog",name:"formBlog",component:it}]}),ct=at,ut=(n("e9c4"),n("4de4"),n("d3b7"),n("7db0"),{actions:{},mutations:{addBlog:function(t,e){t.blogs.unshift(e),localStorage.setItem("blogs",JSON.stringify(t.blogs))},deleteBlog:function(t,e){t.blogs=t.blogs.filter((function(t){return t.id!==e.id})),localStorage.setItem("blogs",JSON.stringify(t.blogs))},selectBlog:function(t,e){t.currentBlog=t.blogs.find((function(t){return t.id===e.id})),void 0!==t.currentBlog?localStorage.setItem("currentBlog",JSON.stringify(t.currentBlog)):localStorage.setItem("currentBlog",JSON.stringify({}))},addComment:function(t,e){t.blogs=t.blogs.map((function(n){return n.id===t.currentBlog.id?(n.comments.push(e),n):n})),t.currentBlog=t.blogs.find((function(e){return e.id===t.currentBlog.id})),localStorage.setItem("currentBlog",JSON.stringify(t.currentBlog)),localStorage.setItem("blogs",JSON.stringify(t.blogs))},deleteComment:function(t,e){t.blogs=t.blogs.map((function(n){return n.id===t.currentBlog.id?(n.comments=n.comments.filter((function(t){return t.id!==e.id})),n):n})),t.currentBlog=t.blogs.find((function(e){return e.id===t.currentBlog.id})),localStorage.setItem("currentBlog",JSON.stringify(t.currentBlog)),localStorage.setItem("blogs",JSON.stringify(t.blogs))},changeUpdateBlogState:function(t,e){t.updateFormState=e},updateBlog:function(t,e){t.blogs=t.blogs.map((function(t){return t.id===e.id?(t.title=e.title,t.content=e.content,t.description=e.description,t):t}))}},state:{blogs:JSON.parse(localStorage.getItem("blogs"))||[],currentBlog:JSON.parse(localStorage.getItem("currentBlog"))||{},updateFormState:!1},getters:{allBlogs:function(t){return t.blogs},selectedCurrentBlog:function(t){return t.currentBlog},checkUpdateState:function(t){return t.updateFormState}}});o["a"].use(g["a"]);var mt=new g["a"].Store({modules:{blogs:ut}});o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(u)},store:mt,router:ct}).$mount("#app")},"595b":function(t,e,n){"use strict";n("ef01")},"627f":function(t,e,n){"use strict";n("2873")},6326:function(t,e,n){},"6f2e":function(t,e,n){},"87f2":function(t,e,n){"use strict";n("261d")},"8e79":function(t,e,n){"use strict";n("6f2e")},"9f3c":function(t,e,n){},cc22:function(t,e,n){"use strict";n("d1c9")},d1c9:function(t,e,n){},eaaf:function(t,e,n){"use strict";n("6326")},ef01:function(t,e,n){}});
//# sourceMappingURL=app.f74b50c3.js.map